<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>본인 확인</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      background: #fff;
      font-family: sans-serif;
      margin: 0;
    }

    .screen {
      max-width: 375px;
      margin: auto;
      padding:0px 20px 30px;
      height: 100vh;
      display: flex;
      flex-direction:column;
      justify-content:space-between;
    }

    .top-bar {
      display: flex;
      align-items: center;
      padding:13px 0px;
    }



    .content {
      
    }

    .title {
      font-size: 20px;
      font-weight: bold;
      line-height: 1.5;
      margin-bottom: 24px;
    }

    .input-box input {
      width: 100%;
      border: none;
      outline: none;
      font-size: 16px;
    }



    .footer {
      padding: 20px 16px;
    }

  

    .header {display:flex; flex-direction:column;} 
    .header .back-btn {width:100%; cursor:pointer; padding:13px 0px;}
    .header .page-indicator {display:inline-flex; justify-content:flex-end; align-items:center; gap:8px; padding:12px 0px;}
    .header .page-indicator .dot {display:flex; align-items:center; justify-content:center; width:8px; height:8px; border-radius:50%; background-color:#d3d3d3; font-size:0;}
    .header .page-indicator .dot.active {width:18px; height:18px; background-color:#f27d6b; color:white; font-size:10px; font-weight:900; line-height:16px; letter-spacing:-0.5px;}



		.inputs-container {display:flex; flex-direction:column; gap:12px;}
		.input-box {display:flex; align-items:center; align-self:stretch; gap:8px; min-height:26px; padding:16px 16px; border:1px solid #d9d9d9; border-radius:12px;}
		.input-box.flex-col {flex-direction:column;}
		.input-box.flex-row {flex-direction:row;}
		.input-box.algn-items-strt {align-items:flex-start;}
		.input-box {font-size:14px;}
		.input-box.focus {border:1px solid #ff7f48; box-shadow:0px 0px 12px 0px rgba(255, 127, 72, 0.20);}
		.input-box .input-wrap {display:flex; gap:8px; width:100%;}
		.input-box .input-wrap.flex-col {flex-direction:column;}
		.input-box .input-wrap.flex-row {flex-direction:row;}
		.input-box .input-title {font-size:12px; color:#919191; white-space:nowrap;}
		.input-box .input-field {}
		.input-box .input-field::placeholder {color:#c8c8c8; font-size:14px;}
		.input-box .input-field.t-algn-l {text-align:left;} 
		.input-box .input-field.t-algn-r {text-align:right;}
		.input-box .input-timer {color:#FF7F48; font-size:12px}
		.input-box button.toggle-btn {display:flex; justify-content:space-between; align-items:center; width:auto; min-width:96px; min-height:26px; padding:4px 8px; border:none; border-radius:6px; background:#f6f6f6; color:#6f6f6f; text-align:center; font-size:12px; font-weight:400; white-space:nowrap; cursor:default;}
		.input-box button.confirm-btn {display:flex; justify-content:center; align-items:center; width:auto; min-width:unset; min-height:26px; padding:4px 8px; border:none; border-radius:6px; background:#f6f6f6; color:#6f6f6f; text-align:center; font-size:12px; font-weight:400; white-space:nowrap; cursor:default;}
		.input-box button.confirm-btn.active {background:#000000; color:#ddd; cursor:pointer;}



    .toast {position:fixed; bottom:80px; left:50%; transform:translateX(-50%); display:flex; background-color:rgba(0, 0, 0, 0.60);


  color: white;
  padding: 10px 20px;
  border-radius: 30px;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.3s ease, bottom 0.3s ease;
}

.toast.show {
  opacity: 1;
  bottom: 100px; /* 토스트가 살짝 위로 올라오게 */
}

.toast.hidden {
  display: none;
}

  </style>
</head>
<body>
  <div class="screen">
    <div>
      <div class="header">
        <div class="back-btn">&lt;</div>

        <!-- Page Indicator -->
        <div class="page-indicator">
          <span class="dot">1</span>
          <span class="dot">2</span>
          <span class="dot active">3</span>
        </div>
      </div>

      <div class="content">
        <div class="title">
          본인 확인을 위해<br>
          아래 정보를 입력해 주세요
        </div>
        <div class="inputs-container">
					<div class="input-box">
						<span class="input-title">인증번호 입력</span>
						<input type="text" class="input-field t-algn-r" id="num-input">
						<div class="input-timer">02:56</div>
						<button class="confirm-btn active">재전송</button>
					</div>						
					<div class="input-box flex-col algn-items-strt">
						<span class="input-title">휴대폰번호</span>
						<div class="input-wrap flex-row">
							<button class="toggle-btn">
								<span>SKT</span>
								<span>></span>
							</button>
							<input type="text" class="input-field t-algn-l" id="phone-input" placeholder="010-1234-5678">
							<button class="confirm-btn">인증번호</button>
						</div>					
					</div>					
					<div class="input-box">
						<span class="input-title">주민등록번호</span>
						<input type="text" class="input-field t-algn-r" id="jumin-input" data-raw="">						
					</div>
					<div class="input-box focus">
						<span class="input-title">이름</span>
						<input type="text" class="input-field t-algn-r" id="name-input">
						<button class="confirm-btn active">확인</button>
					</div>					
        </div>
      </div>
    </div>

    <!-- Toast Popup -->
    <div id="toast" class="toast show">
      <span>✅ 인증번호가 전송됐어요</span>
    </div>
    
    <div class="footer">
      <button id="confirm-btn" class="confirm-btn" disabled>확인</button>
    </div>
  </div>

  <script>
    $('#name-input').on('input', function() {
      const val = $(this).val().trim();
      if (val.length > 0) {
        $('#confirm-btn').addClass('active').prop('disabled', false);
      } else {
        $('#confirm-btn').removeClass('active').prop('disabled', true);
      }
    });

    $('#confirm-btn').on('click', function() {
      if ($(this).hasClass('active')) {
        alert("이름 확인: " + $('#name-input').val());
      }
    });


		//주민번호 마스킹 처리
		$('#jumin-input').on('input', function () {
    let input = $(this);
    let val = input.data('raw') || '';

    // Get only digits from the new value (in case of paste or edit)
    let newVal = input.val().replace(/\D/g, '');

    // Recalculate full raw value (prevent user from deleting dash/●)
    val = newVal;

    // Limit to 13 digits
    if (val.length > 13) val = val.slice(0, 13);

    input.data('raw', val); // Save raw unmasked value

    // Build masked display
    if (val.length >= 7) {
      let first = val.slice(0, 6);
      let gender = val.slice(6, 7);
      let masked = '●'.repeat(val.length - 7);
      input.val(`${first}-${gender}${masked}`);
    } else {
      input.val(val);
    }
  });
  });
  </script>
</body>
</html>
